<html>
<head>
    <title>Icon浏览器</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<!-- bootstrap-jquery -->
	<link href="./bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link href="./bootstrap/css/style.css" rel="stylesheet">
</head>
<body bgcolor="#FFFFFF">




<div class="container-fluid">
	<div class="row">
		<div class="col-md-6">
			<p>Icon浏览器</p>
		</div>
		<div class="col-md-6">
	
		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			<div class="tabbable" id="tabs-412007">
				<ul class="nav nav-tabs" id="navhost">
				</ul>
				<div class="tab-content" id="tabhost">

				</div>
			</div>
		</div>
	</div>
	
	<script src="./bootstrap/js/jquery.min.js"></script>
    <script src="./bootstrap/js/bootstrap.min.js"></script>
    <script src="./bootstrap/js/scripts.js"></script>
    <script src="./layer/layer.js"></script>
    <script src="./layer/extend/layer.ext.js"></script>
    
    <script>
   
    </script>
<script>


json = data;


function aa(){
	
	var navhost = $("#navhost");
	var tabhost = $("#tabhost");
	
	for(dirIndex in json.subDirs){
		//对于每一个目录，都生成一个Tab
		var dir = json.subDirs[dirIndex];
		var s = "<li><a href='#{name1}' data-toggle='tab'>{name2}</a></li>";
		s = s.replace("{name1}", dir.name);
		s = s.replace("{name2}", dir.name);
		navhost.append(s);
		
		s = "<div class='tab-pane' id='{name1}'>";
		s = s.replace("{name1}", dir.name);
		if(dirIndex == 0) s = s.replace("tab-pane", "tab-pane active");
		tabhost.append(s);
		var tabId = dir.name;
		var currentTab = $("#" + tabId);
		
		int columnCount = 0;
		int rowCount = 0;
		var rowId;
		for(fileIndex in dir.subFiles){
			var len = json.subFiles.length;
			var file = dir.subFiles[fileIndex];
			var ss = "";
			if(fileIndex % 12 == 0){
				rowCount++;
				rowId = "row-" + rowCount;
				columnCount = -1;
				ss = "<div class='row-fluid' id='{id}'></div>".replace("{id}", rowId);
				currentTab.append(ss);
			}
			
			columnCount++;
			var row = $("#" + rowId);
			ss = "<div class='col-md-1' style='background:pink'>{img}</div>"；
			ss = ss.replace("{img}", "<img src='{path}'  />");  //style='max-width:100px;max-height:100px'
			ss = ss.replace("{path}", file.path);
			
			/*
				<ul class="nav nav-tabs" id="navhost">
					<li>
						<a href="#通用" data-toggle="tab">通用</a>
					</li>
					<li class="active">
						<a href="#panel-339239" data-toggle="tab">第二部分</a>
					</li>
				</ul>
				<div class="tab-content" id="tabhost">
					<div class="tab-pane active" id="通用">
						<div class="row-fluid">
							<div class="col-md-1">
								
							</div>
							=======================
			
						<div class="row-fluid">
							<div class="col-md-1">
								
							</div>
							<div class="col-md-1">第一部分
							</div>
							<div class="col-md-1">第一部分
							</div>
							<div class="col-md-1">第一部分
							</div>
							<div class="col-md-1">第一部分
							</div>
							<div class="col-md-1">第一部分
							</div>
							<div class="col-md-1">
							</div>
							<div class="col-md-1">
							</div>
							<div class="col-md-1">
							</div>
							<div class="col-md-1">
							</div>
							<div class="col-md-1">
							</div>
							<div class="col-md-1">
							</div>
						</div>
			*/
		}
	}
	/*
   var p = $("#haha");
   var len = json.subFiles.length;
   p.append("图片个数：" + len + "<br/>");
  
   for(f in json.subFiles){
		var url = json.subFiles[f].path; //"file:///" + json.subFiles[f].path;
		//alert(f);
		var s = "<div style='border:1px solid green;width:100;height:100;background:pink;padding:10px;margin:10px; display: table-cell;vertical-align:middle;text-align:center;'><img style='max-width:100;max-height:100;' src='{src}' /></div>";
		s = s.replace("{src}", url);
		p.append("<img style='border:1px solid red;width:100;height:100;background:pink;padding:10px;margin:10px' src='" + url + "' alt='" + url +"' />");
   }
   */
}

aa();
</script>
</body>
</html>